

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title>Space Invaders - Abhay Joshi</title><meta name="Description" content=""><meta property="og:title" content="Space Invaders" />
<meta property="og:description" content="&lt; Go Back A Clone of Space Invaders written in C&#43;&#43; using SDL2 and SDL_image. Source code is available on Github
Project InfoLanguage: C&#43;&#43; Libraries: SDL2, SDL_image and SDL_mixer ImplementationUsed SDL2 for 2D rendering and input.
Every object in the game is derived from the Entity class which has Update(), Render() and HandleInputs() virtual functions, These functions can be overriden.
class Entity { public: Entity(const Vector&amp; pos, const std::string&amp; key, const float&amp; scale, const std::string&amp; tag); virtual ~Entity() = default; virtual void Update(); virtual void Render(SDL_Renderer* renderer); virtual void HandleEvents(SDL_Event&amp; event); virtual bool Destroy(); public: Vector m_position; SDL_Rect m_textureRect; std::string m_tag; protected: float m_scale; SDL_Texture* m_texture; }; All the game entities are stored in a std::vector in the Game class and allocated on the heap during game initialization, The Game calls Update(), Render() and HandleInputs() functions for every entity if they have overriden them." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/space-invaders/" /><meta property="og:image" content="http://localhost:1313/space-invaders/featured.gif"/><meta property="article:section" content="" />
<meta property="article:published_time" content="2023-11-21T12:48:24+05:30" />
<meta property="article:modified_time" content="2023-11-21T12:48:24+05:30" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://localhost:1313/space-invaders/featured.gif"/>
<meta name="twitter:title" content="Space Invaders"/>
<meta name="twitter:description" content="&lt; Go Back A Clone of Space Invaders written in C&#43;&#43; using SDL2 and SDL_image. Source code is available on Github
Project InfoLanguage: C&#43;&#43; Libraries: SDL2, SDL_image and SDL_mixer ImplementationUsed SDL2 for 2D rendering and input.
Every object in the game is derived from the Entity class which has Update(), Render() and HandleInputs() virtual functions, These functions can be overriden.
class Entity { public: Entity(const Vector&amp; pos, const std::string&amp; key, const float&amp; scale, const std::string&amp; tag); virtual ~Entity() = default; virtual void Update(); virtual void Render(SDL_Renderer* renderer); virtual void HandleEvents(SDL_Event&amp; event); virtual bool Destroy(); public: Vector m_position; SDL_Rect m_textureRect; std::string m_tag; protected: float m_scale; SDL_Texture* m_texture; }; All the game entities are stored in a std::vector in the Game class and allocated on the heap during game initialization, The Game calls Update(), Render() and HandleInputs() functions for every entity if they have overriden them."/>
<meta name="twitter:site" content="@Abhay_029"/>
<meta name="application-name" content="Abhay Joshi">
<meta name="apple-mobile-web-app-title" content="Abhay Joshi">

<meta name="theme-color" content="#f8f8f8"><meta name="twitter:creator" content="@Abhay_029" /><link rel="canonical" href="http://localhost:1313/space-invaders/" /><link rel="prev" href="http://localhost:1313/cellular-automaton/" /><link rel="next" href="http://localhost:1313/you-are-not-alone/" />
<link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/color.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Space Invaders",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/space-invaders\/"
        },"genre": "page","wordcount":  410 ,
        "url": "http:\/\/localhost:1313\/space-invaders\/","datePublished": "2023-11-21T12:48:24+05:30","dateModified": "2023-11-21T12:48:24+05:30","publisher": {
            "@type": "Organization",
            "name": "Abhay Joshi"},"author": {
                "@type": "Person",
                "name": "Abhay Joshi"
            },"description": ""
    }
    </script><script src="//instant.page/5.2.0" defer type="module" integrity="sha384-jnZyxPjiipYXnSU0ygqeac2q7CVYMbh84q0uHVRRxEtvFPiQYbXWUorga2aqZJ0z"></script>
</head>

<body header-desktop="" header-mobile=""><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark'); window.theme = theme;   window.isDark = window.theme !== 'light' }
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('dark' === 'light' || 'dark' === 'dark' || 'dark' === 'black') setTheme('dark'), saveTheme('dark'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
        window.switchThemeEventSet = new Set()
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Abhay Joshi">Abhay Joshi</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/resume-abhay-joshi.pdf" title="Resume"> Resume </a><a class="menu-item" href="/projects/" title="Projects"> Projects </a><a class="menu-item" href="/about/" title="About"> About </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Abhay Joshi">Abhay Joshi</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/resume-abhay-joshi.pdf" title="Resume">Resume</a><a class="menu-item" href="/projects/" title="Projects">Projects</a><a class="menu-item" href="/about/" title="About">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="page single special"><h1 class="single-title animate__animated animate__pulse animate__faster">Space Invaders</h1><div class="content" id="content"><h3 id="-go-backprojects" class="headerLink">
    <a href="#-go-backprojects" class="header-mark"></a><a href="/projects/" rel=""><strong>&lt; Go Back</strong></a></h3><blockquote>
<p>A Clone of <a href="https://en.m.wikipedia.org/wiki/Space_Invaders" target="_blank" rel="noopener noreferrer">Space Invaders</a> written in C++ using <a href="https://www.libsdl.org/" target="_blank" rel="noopener noreferrer">SDL2</a> and <a href="https://github.com/libsdl-org/SDL_image" target="_blank" rel="noopener noreferrer">SDL_image</a>. Source code is available on <a href="https://github.com/AbhayJoshi-Dev/Space-Invaders" target="_blank" rel="noopener noreferrer">Github</a></p>
</blockquote>
<p><figure><a class="lightgallery" href="/space-invaders/featured.gif" title="/space-invaders/featured.gif" data-thumbnail="/space-invaders/featured.gif">
        <img
            
            loading="lazy"
            src="/space-invaders/featured.gif"
            srcset="/space-invaders/featured.gif, /space-invaders/featured.gif 1.5x, /space-invaders/featured.gif 2x"
            sizes="auto"
            alt="/space-invaders/featured.gif" height="600"  width="800" >
    </a></figure></p>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>Project Info<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><ul>
<li>Language: C++</li>
<li>Libraries: SDL2, SDL_image and SDL_mixer</li>
</ul>
</div>
        </div>
    </div>
<h3 id="implementation" class="headerLink">
    <a href="#implementation" class="header-mark"></a>Implementation</h3><div id="id-1"><p>Used <a href="https://github.com/libsdl-org/SDL" target="_blank" rel="noopener noreferrer">SDL2</a> for 2D rendering and input.</p>
<p>Every object in the game is derived from the <strong>Entity</strong> class which has <em>Update()</em>, <em>Render()</em> and <em>HandleInputs()</em> virtual functions, These functions can be overriden.</p>
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Entity.hpp" data-lang="Entity.hpp"><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Entity</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">Entity</span><span class="p">(</span><span class="k">const</span> <span class="n">Vector</span><span class="o">&amp;</span> <span class="n">pos</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">,</span> <span class="k">const</span> <span class="kt">float</span><span class="o">&amp;</span> <span class="n">scale</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">tag</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">virtual</span> <span class="o">~</span><span class="n">Entity</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Update</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Render</span><span class="p">(</span><span class="n">SDL_Renderer</span><span class="o">*</span> <span class="n">renderer</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">HandleEvents</span><span class="p">(</span><span class="n">SDL_Event</span><span class="o">&amp;</span> <span class="n">event</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">Destroy</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">Vector</span> <span class="n">m_position</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">SDL_Rect</span> <span class="n">m_textureRect</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">m_tag</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">protected</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="kt">float</span> <span class="n">m_scale</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">SDL_Texture</span><span class="o">*</span> <span class="n">m_texture</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span></code></pre></div><div id="id-2"><p>All the game entities are stored in a <code>std::vector</code> in the <strong>Game</strong> class and allocated on the heap during game initialization, The <strong>Game</strong> calls <em>Update()</em>, <em>Render()</em> and <em>HandleInputs()</em> functions for every entity if they have overriden them.</p>
<p>Every object that has collision is derived from the <strong>ICollidable</strong> interface, And <strong>Utils.h</strong> has the basic check for AABB collision detection.</p>
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ICollidable.hpp" data-lang="ICollidable.hpp"><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">ICollidable</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">virtual</span> <span class="o">~</span><span class="n">ICollidable</span><span class="p">()</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">OnCollision</span><span class="p">(</span><span class="n">ICollidable</span><span class="o">&amp;</span> <span class="n">otherCollidable</span><span class="p">)</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span></code></pre></div><p>The <em>OnCollision()</em> function is just to write the gameplay logic after collision.</p>
<h4 id="texture-loading" class="headerLink">
    <a href="#texture-loading" class="header-mark"></a>Texture Loading</h4><div id="id-3"><p>For texture loading I used <a href="https://github.com/libsdl-org/SDL_image" target="_blank" rel="noopener noreferrer">SDL_image</a>. All the textures are loaded in an <code>unordered_map</code> in the <strong>AssetManager</strong> class. The <em>Load()</em> function load textures from the given <code>filePath</code> with the help of SDL_image&rsquo;s <a href="https://wiki.libsdl.org/SDL2_image/IMG_LoadTexture" target="_blank" rel="noopener noreferrer">IMG_LoadTexture</a> function and stores them in the <code>m_assetMap</code> with the given <code>key</code>. This function is called during game initialization.</p>
<p>The <em>Get()</em> function returns the texture from the <code>m_assetMap</code> with the given <code>key</code>. It is called when an entity is initialized.</p>
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-AssetManager.hpp" data-lang="AssetManager.hpp"><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">AssetManager</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">AssetManager</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">~</span><span class="n">AssetManager</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">AssetManager</span><span class="p">(</span><span class="k">const</span> <span class="n">AssetManager</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">AssetManager</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">AssetManager</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">static</span> <span class="n">AssetManager</span><span class="o">&amp;</span> <span class="n">GetInstance</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">void</span> <span class="nf">Load</span><span class="p">(</span><span class="n">SDL_Renderer</span><span class="o">*</span> <span class="n">renderer</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">filePath</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">SDL_Texture</span><span class="o">*</span> <span class="nf">Get</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">SDL_Texture</span><span class="o">*</span> <span class="nf">LoadTexture</span><span class="p">(</span><span class="n">SDL_Renderer</span><span class="o">*</span> <span class="n">renderer</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">filePath</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span> <span class="o">&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">SDL_Texture</span><span class="o">*&gt;</span> <span class="n">m_assetMap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span></code></pre></div><h4 id="audio" class="headerLink">
    <a href="#audio" class="header-mark"></a>Audio</h4><div id="id-4">For audio <a href="https://github.com/libsdl-org/SDL_mixer" target="_blank" rel="noopener noreferrer">SDL_mixer</a> is used. Audio loading is similar to texture loading and it&rsquo;s written in the <strong>SoundManager</strong> class. It also uses an <code>unordered_map</code> for storing <code>Mix_Chunk</code> object which is loaded by the <em>Load()</em> function. The <em>Load()</em> function uses <a href="https://wiki.libsdl.org/SDL2_mixer/Mix_LoadWAV" target="_blank" rel="noopener noreferrer">Mix_LoadWAV()</a> function to load <code>Mix_Chunk</code> from a <code>.wav</code> file.</div>
<h4 id="what-i-learned" class="headerLink">
    <a href="#what-i-learned" class="header-mark"></a>What I learned</h4><div id="id-5">While working on the project I learned about basic object oriented features like <strong>Inheritance</strong>. Learned how to use and implement interfaces. I also gained understading of <code>std::unordered_map</code>. Learned about memory management, all the entities are stored into the heap and the memory is deallocated when necessary.</div>
</div></div></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank" rel="noopener noreferrer">Abhay Joshi</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="Back to Top">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><link rel="stylesheet" href="/css/b8786b.min.css"><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{}};</script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/js/theme.min.js" defer></script></div>
</body>

</html>